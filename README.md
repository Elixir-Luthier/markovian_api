# MarkovianApi

## Setup
Install dependencies
```
mix deps.get
```

## Usage
Run server in development mode by doing
```
iex -S mix
```
For production running do
```
mix run
```

Endpoints
<table>

  <tr>
    <th>Type</th>
    <th>Endpoint</th>
    <th>Parameters</th>
  </tr>
  <tr>
    <td>POST</td>
    <td>/getTm</td>
    <td>pm : List[List]</td>
  </tr>
  <tr>
    <td>POST</td>
    <td>/runChain</td>
    <td>tm: List[List]<br/>limit: Integer</td>
  </tr>
  <tr>
    <td>POST</td>
    <td>/nextState</td>
    <td>tm: List[List] <br/>ps: Integer</td>

</table>

Parameter Info.

<table>

<tr>
  <th>Parameter</th>
  <th>Name</th>
  <th>Description</th>
</tr>
<tr>
  <td>pm</th>
  <td>Probability Matrix</td>
  <td>Used to calculate transition matrix</td>
</tr>
<tr>
  <td>ps</th>
  <td>Previous State</td>
  <td>Previous state number</td>
</tr>
<tr>
  <td>tm</th>
  <td>Transition Matrix</td>
  <td>Used for Markov probability calculations for next the next state</td>
</tr>
</table>

## Examples

**/getTm**

POST
```
http://127.0.0.1:8880/getTm
```
BODY
```
{
	"pm":[[0.1,0.4,0.5],[0.1,0.4,0.5],[0.1,0.4,0.5]]
}
```
RESPONSE
```
{"tm":[[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]]}
```

**/runChain**

POST
```
http://127.0.0.1:8880/runChain
```
BODY
```
{
	"tm":[[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]],
	"limit": 500
}
```
RESPONSE
```
{"result":[2,1,2,1,2,2,2,2,2,1,2,2,1,1,2,2,1,1,2,2,0,0,1,1,0,2,1,2,1,1,1,1,1,1,2,2,1,2,2,0,1,1,2,1,0,2,2,2,0,2,2,2,1,2,1,1,2,2,1,2,2,1,2,2,1,2,1,2,2,1,2,0,2,1,1,1,2,2,2,2,2,2,2,1,0,2,2,1,1,2,2,0,1,2,1,2,2,1,1,1,1,2,1,2,2,1,2,0,1,1,0,1,1,2,2,1,1,1,2,1,1,2,1,1,2,2,2,1,1,2,2,2,1,2,1,2,1,1,1,1,0,0,1,2,0,1,2,1,2,2,1,1,2,0,1,1,2,0,2,2,1,1,1,2,2,2,1,2,2,2,1,2,1,2,1,1,0,1,2,1,0,1,2,2,1,1,1,2,1,2,1,1,2,0,2,1,1,2,2,2,1,1,2,2,1,2,1,2,1,1,2,2,1,0,1,2,1,0,1,1,2,1,2,1,1,1,1,2,2,0,0,1,1,1,1,0,2,2,0,2,2,1,2,1,2,1,1,1,1,2,2,1,2,2,2,2,1,2,1,0,2,1,1,0,2,0,2,2,2,2,2,2,1,1,0,2,1,2,0,1,2,2,1,2,1,1,1,2,2,1,0,1,2,2,1,1,2,2,2,1,2,1,1,1,1,1,1,1,0,1,1,2,0,1,1,1,1,0,2,2,2,1,2,0,2,2,2,1,0,2,1,1,2,2,1,1,2,2,1,2,2,1,2,1,2,1,2,2,1,2,2,1,2,1,2,1,2,1,2,2,2,1,2,2,1,2,1,1,2,2,1,0,1,1,0,2,1,2,2,1,2,0,1,1,1,0,2,2,2,2,1,2,1,1,2,0,2,2,1,2,1,2,2,1,2,2,1,2,2,1,2,1,1,1,2,2,2,0,2,2,1,2,2,0,1,2,2,0,2,0,1,2,1,2,2,1,2,1,2,2,2,2,1,1,1,2,2,2,1,2,1,1,2,2,0,2,1,2,1,1,1,2,0,2,2,2,0,1,0,0,2,1,2,0,0,1,1,1,2,2,1,2,1,1,1,2,1,2,2,1,1,1,2,1,2,2,0,1,1,2,2]}
```

**/nextState**

POST
```
http://127.0.0.1:8880/nextState
```
BODY
```
{
	"tm":[[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2],[0,0,0,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2]],
	"ps": 0
}
```
RESPONSE
```
{"result":2}
```
